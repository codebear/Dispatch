Parsing file: ../etc/dispatch.conf
Creating new scanner for file ../etc/dispatch.conf
Adding to outer node
Result: 0
FUNCTION: include
Argument (file): fifo_listener.conf
FUNCTION: include
Argument (file): php_handler.conf
FUNCTION: include
Argument (file): inotify.conf
FUNCTION: include
Argument (file): socket_listener.conf
FUNCTION: include
Argument (file): ipcmsg_listener.conf
Parsing file: ../etc/fifo_listener.conf
Creating new scanner for file ../etc/fifo_listener.conf
Adding to inner node
Result: 0
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
Parsing file: ../etc/php_handler.conf
Creating new scanner for file ../etc/php_handler.conf
Adding to inner node
Result: 0
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
Parsing file: ../etc/inotify.conf
Creating new scanner for file ../etc/inotify.conf
Adding to inner node
Result: 0
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
Parsing file: ../etc/socket_listener.conf
Creating new scanner for file ../etc/socket_listener.conf
Adding to inner node
Result: 0
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
Parsing file: ../etc/ipcmsg_listener.conf
Creating new scanner for file ../etc/ipcmsg_listener.conf
Adding to inner node
Result: 0
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
FUNCTION: include
============= 0 =================
GConfigBlockList (1) {
0: GConfigBlock {
GConfigBlockHeader(main);GConfigStatementListï¿½{
GConfigVariableStatement (ident: GConfigIdentifier[load_modules]value: GConfigArgument [ arg_liste: ArgumentList {0: SCALAR( String: modules/fifo/fifoeventlistener.so)1: SCALAR( String: modules/execute/executecommandhandler.so)2: SCALAR( String: modules/phpembed/phpembedmodule.so)3: SCALAR( String: modules/inotify/inotify.so)4: SCALAR( String: modules/inet/ineteventlistener.so)5: SCALAR( String: modules/ipcmsg/ipcmsglistener.so)}
])
GConfigStatementGConfigStatementGConfigStatementGConfigStatementGConfigStatementGConfigBlock {
GConfigBlockHeader(listener,GConfigIdentifier[cerum.test.fifo]);GConfigStatementListï¿½{
GConfigVariableStatement (ident: GConfigIdentifier[module]value: GConfigArgument [ scalar_val: SCALAR( Identifier: GConfigIdentifier[FifoEventSource]
)])
GConfigVariableStatement (ident: GConfigIdentifier[socket]value: GConfigArgument [ scalar_val: SCALAR( String: ../var/events)])
}
}
GConfigBlock {
GConfigBlockHeader(handler,GConfigIdentifier[cerum.test.event_handler]);GConfigStatementListï¿½{
GConfigVariableStatement (ident: GConfigIdentifier[module]value: GConfigArgument [ scalar_val: SCALAR( Identifier: GConfigIdentifier[PHPEmbed]
)])
GConfigVariableStatement (ident: GConfigIdentifier[load_file]value: GConfigArgument [ scalar_val: SCALAR( String: ../php/eventhandler.php)])
GConfigVariableStatement (ident: GConfigIdentifier[handler_class]value: GConfigArgument [ scalar_val: SCALAR( String: EventHandler)])
GConfigVariableStatement (ident: GConfigIdentifier[handler_method]value: GConfigArgument [ scalar_val: SCALAR( String: handle_event)])
}
}
GConfigBlock {
GConfigBlockHeader(listener,GConfigIdentifier[cerum.test.inotify]);GConfigStatementListï¿½{
GConfigVariableStatement (ident: GConfigIdentifier[module]value: GConfigArgument [ scalar_val: SCALAR( Identifier: GConfigIdentifier[INotify]
)])
GConfigVariableStatement (ident: GConfigIdentifier[watch]value: GConfigArgument [ arg_liste: ArgumentList {0: SCALAR( String: ../var/inotify_example)}
])
}
}
GConfigBlock {
GConfigBlockHeader(listener,GConfigIdentifier[cerum.test.inet]);GConfigStatementListï¿½{
GConfigVariableStatement (ident: GConfigIdentifier[module]value: GConfigArgument [ scalar_val: SCALAR( Identifier: GConfigIdentifier[InetEventSource]
)])
GConfigVariableStatement (ident: GConfigIdentifier[port]value: GConfigArgument [ scalar_val: SCALAR(Long: 8888)])
}
}
GConfigBlock {
GConfigBlockHeader(listener,GConfigIdentifier[cerum.test.ipcmsg]);GConfigStatementListï¿½{
GConfigVariableStatement (ident: GConfigIdentifier[module]value: GConfigArgument [ scalar_val: SCALAR( Identifier: GConfigIdentifier[IPCMsgSource]
)])
GConfigVariableStatement (ident: GConfigIdentifier[key]value: GConfigArgument [ scalar_val: SCALAR(Long: 4002)])
}
}
}
}
}

[Sat Apr 17 21:33:55 2010] DispatchMain: Done parsing
[Sat Apr 17 21:33:55 2010] ModuleManager: Vars 1
[Sat Apr 17 21:33:55 2010] ModuleManager: Loading modules:
[Sat Apr 17 21:33:55 2010] ModuleManager:  ** modules/fifo/fifoeventlistener.so **
[Sat Apr 17 21:33:55 2010] ModuleManager: Loaded module: FifoEventSource
[Sat Apr 17 21:33:55 2010] ModuleManager:  ** modules/execute/executecommandhandler.so **
[Sat Apr 17 21:33:55 2010] ModuleManager: Loaded module: ExecuteCommand
[Sat Apr 17 21:33:55 2010] ModuleManager:  ** modules/phpembed/phpembedmodule.so **
[Sat Apr 17 21:33:55 2010] ModuleManager: Loaded module: PHPEmbed
[Sat Apr 17 21:33:55 2010] ModuleManager:  ** modules/inotify/inotify.so **
[Sat Apr 17 21:33:55 2010] ModuleManager: Loaded module: INotify
[Sat Apr 17 21:33:55 2010] ModuleManager:  ** modules/inet/ineteventlistener.so **
[Sat Apr 17 21:33:55 2010] ModuleManager: Loaded module: InetEventSource
[Sat Apr 17 21:33:55 2010] ModuleManager:  ** modules/ipcmsg/ipcmsglistener.so **
[Sat Apr 17 21:33:55 2010] ModuleManager: Loaded module: IPCMsgSource
[Sat Apr 17 21:33:55 2010] ModuleManager: Leter etter config til moduler
[Sat Apr 17 21:33:55 2010] ModuleManager: MODULE: FifoEventSource
[Sat Apr 17 21:33:55 2010] ModuleManager: FifoEventSource confirms it's an event source
[Sat Apr 17 21:33:55 2010] ModuleManager: Found node
[Sat Apr 17 21:33:55 2010] FifoEventSource: FIFO: Fikk en konfig-node..
[Sat Apr 17 21:33:55 2010] FifoEventSource: Fant følgende fornuftig:
[Sat Apr 17 21:33:55 2010] FifoEventSource: Fant socket-sti: ../var/events
[Sat Apr 17 21:33:55 2010] FifoEventSource: 1 treff
[Sat Apr 17 21:33:55 2010] ModuleManager: MODULE: ExecuteCommand
[Sat Apr 17 21:33:55 2010] ModuleManager: ExecuteCommand confirms it's and event handler
[Sat Apr 17 21:33:55 2010] ModuleManager: MODULE: PHPEmbed
[Sat Apr 17 21:33:55 2010] ModuleManager: PHPEmbed confirms it's and event handler
[Sat Apr 17 21:33:55 2010] ModuleManager: Found node. Name: handler ident: cerum.test.event_handler
[Sat Apr 17 21:33:55 2010] PHPEmbed: PHPEmbedModule:: Fikk en configNode: GConfigBlock {
[Sat Apr 17 21:33:55 2010] PHPEmbed: GConfigBlockHeader(handler,GConfigIdentifier[cerum.test.event_handler]);GConfigStatementListï¿½{
[Sat Apr 17 21:33:55 2010] PHPEmbed: GConfigVariableStatement (ident: GConfigIdentifier[module]value: GConfigArgument [ scalar_val: SCALAR( Identifier: GConfigIdentifier[PHPEmbed]
[Sat Apr 17 21:33:55 2010] PHPEmbed: )])
[Sat Apr 17 21:33:55 2010] PHPEmbed: GConfigVariableStatement (ident: GConfigIdentifier[load_file]value: GConfigArgument [ scalar_val: SCALAR( String: ../php/eventhandler.php)])
[Sat Apr 17 21:33:55 2010] PHPEmbed: GConfigVariableStatement (ident: GConfigIdentifier[handler_class]value: GConfigArgument [ scalar_val: SCALAR( String: EventHandler)])
[Sat Apr 17 21:33:55 2010] PHPEmbed: GConfigVariableStatement (ident: GConfigIdentifier[handler_method]value: GConfigArgument [ scalar_val: SCALAR( String: handle_event)])
[Sat Apr 17 21:33:55 2010] PHPEmbed: }
[Sat Apr 17 21:33:55 2010] PHPEmbed: }

fikk en konfig node her
[Sat Apr 17 21:33:55 2010] ModuleManager: MODULE: INotify
[Sat Apr 17 21:33:55 2010] ModuleManager: INotify confirms it's an event source
[Sat Apr 17 21:33:55 2010] ModuleManager: Found node
[Sat Apr 17 21:33:55 2010] INotify: Fant sti som skal overvåkes av inotify: ../var/inotify_example
[Sat Apr 17 21:33:55 2010] ModuleManager: MODULE: InetEventSource
[Sat Apr 17 21:33:55 2010] ModuleManager: InetEventSource confirms it's an event source
[Sat Apr 17 21:33:55 2010] ModuleManager: Found node
[Sat Apr 17 21:33:55 2010] InetEventSource: Binder til [*]:8888
[Sat Apr 17 21:33:55 2010] ModuleManager: MODULE: IPCMsgSource
[Sat Apr 17 21:33:55 2010] ModuleManager: IPCMsgSource confirms it's an event source
[Sat Apr 17 21:33:55 2010] ModuleManager: Found node
[Sat Apr 17 21:33:55 2010] IPCMsgSource: Initaliserer 1 ipc-lyttere med key 4002 og type 0
[Sat Apr 17 21:33:55 2010] ModuleManager: Done.
[Sat Apr 17 21:33:55 2010] DispatchMain: 6 moduler lastet
[Sat Apr 17 21:33:55 2010] FifoEventSource: Fifo: preInitialize...
[Sat Apr 17 21:33:55 2010] DispatchMain: Pre-initialized module FifoEventSource
[Sat Apr 17 21:33:55 2010] DispatchMain: Pre-initialized module ExecuteCommand
[Sat Apr 17 21:33:55 2010] DispatchMain: Pre-initialized module PHPEmbed
[Sat Apr 17 21:33:55 2010] DispatchMain: Pre-initialized module INotify
[Sat Apr 17 21:33:55 2010] InetEventSource: Inet: preInitialize...
[Sat Apr 17 21:33:55 2010] DispatchMain: Pre-initialized module InetEventSource
[Sat Apr 17 21:33:55 2010] DispatchMain: Pre-initialized module IPCMsgSource
Node: GConfigIdentifier - [4] Ident: include is unused in config
Node: GConfigArgumentList - [2] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: include is unused in config
Node: GConfigArgumentList - [2] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: include is unused in config
Node: GConfigArgumentList - [2] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: include is unused in config
Node: GConfigArgumentList - [2] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: include is unused in config
Node: GConfigArgumentList - [2] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigVariableStatement - [10] Ident: module is unused in config
Node: GConfigIdentifier - [4] Ident: module is unused in config
Node: GConfigArgument-val - [3] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: FifoEventSource is unused in config
Node: GConfigBlock - handler[5] Ident: cerum.test.event_handler is unused in config
Node: GConfigVariableStatement - [10] Ident: module is unused in config
Node: GConfigIdentifier - [4] Ident: module is unused in config
Node: GConfigArgument-val - [3] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: PHPEmbed is unused in config
Node: GConfigBlock - listener[5] Ident: cerum.test.inotify is unused in config
Node: GConfigVariableStatement - [10] Ident: module is unused in config
Node: GConfigIdentifier - [4] Ident: module is unused in config
Node: GConfigArgument-val - [3] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: INotify is unused in config
Node: GConfigBlock - listener[5] Ident: cerum.test.inet is unused in config
Node: GConfigVariableStatement - [10] Ident: module is unused in config
Node: GConfigIdentifier - [4] Ident: module is unused in config
Node: GConfigArgument-val - [3] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: InetEventSource is unused in config
Node: GConfigBlock - listener[5] Ident: cerum.test.ipcmsg is unused in config
Node: GConfigVariableStatement - [10] Ident: module is unused in config
Node: GConfigIdentifier - [4] Ident: module is unused in config
Node: GConfigArgument-val - [3] Ident:  is unused in config
Node: GConfigScalarVal - [1] Ident:  is unused in config
Node: GConfigIdentifier - [4] Ident: IPCMsgSource is unused in config
Fant 97 noder i config
Fant 44 feil i config
[Sat Apr 17 21:33:55 2010] FifoEventSource: Starter opp FifoEventSourceModule
[Sat Apr 17 21:33:55 2010] DispatchMain: Startet modul FifoEventSource
[Sat Apr 17 21:33:55 2010] DispatchMain: module ExecuteCommandfailed to start up properly, shutting down
[Sat Apr 17 21:33:55 2010] DispatchMain: Startet modul PHPEmbed
[Sat Apr 17 21:33:55 2010] INotify: Starting up inotify listener
[Sat Apr 17 21:33:55 2010] DispatchMain: Startet modul INotify
[Sat Apr 17 21:33:55 2010] InetEventSource: Starter opp FifoEventSourceModule
[Sat Apr 17 21:33:55 2010] InetEventSource: INET 
[Sat Apr 17 21:33:55 2010] InetEventSource: IPv6: hostname: [::] port: 8888
[Sat Apr 17 21:33:55 2010] InetEventSource: Bunded til socket
[Sat Apr 17 21:33:55 2010] InetEventSource: INET 
[Sat Apr 17 21:33:55 2010] FifoStreamListener: Reopening stream
[Sat Apr 17 21:33:55 2010] FifoStreamListener: Attempting to open ../var/events
[Sat Apr 17 21:33:55 2010] INotifyListener: Legger til overvåkning av ../var/inotify_example
[Sat Apr 17 21:33:55 2010] INotifyListener: total of 1watches initialized. Starting listener
[Sat Apr 17 21:33:55 2010] INotifyListener: Preparing for reading from inotify fd
[Sat Apr 17 21:33:55 2010] InetEventSource: IPv4: hostname: [0.0.0.0] port: 8888
[Sat Apr 17 21:33:55 2010] InetEventSource: Error binding socket: Address already in use
[Sat Apr 17 21:33:55 2010] DispatchMain: Startet modul InetEventSource
[Sat Apr 17 21:33:55 2010] IPCMsgSource: Starter opp ipc-lytter 
[Sat Apr 17 21:33:55 2010] DispatchMain: Startet modul IPCMsgSource
Finner meldingskø med key: 4002 flags: 944
msgget returned queue_id 32769
[Sat Apr 17 21:33:55 2010] MsgListener: Listening for event with type: 0
[Sat Apr 17 21:33:55 2010] Eventqueue: Event listener starting...
[Sat Apr 17 21:34:04 2010] MsgListener: Received message IPCMsg
line 0 []
Linje 0: foo:bar
line 7 [foo:bar]
Setter parametre [foo]:[bar]
Linje 1: bar:baz
line 7 [bar:baz]
Setter parametre [bar]:[baz]
line 0 []
[Sat Apr 17 21:34:04 2010] MsgListener: Listening for event with type: 0
[Sat Apr 17 21:34:04 2010] Eventqueue: Received event..
PHP OUTPUT: HIHAh ar fått event!!!PHP OUTPUT: array(2) {
PHP OUTPUT:   ["PHP OUTPUT: barPHP OUTPUT: "]=>
PHP OUTPUT:   PHP OUTPUT: string(3) "PHP OUTPUT: bazPHP OUTPUT: "
PHP OUTPUT:   ["PHP OUTPUT: fooPHP OUTPUT: "]=>
PHP OUTPUT:   PHP OUTPUT: string(3) "PHP OUTPUT: barPHP OUTPUT: "
PHP OUTPUT: }
[Sat Apr 17 22:00:03 2010] INotifyListener: Read 32bytes from fd
[Sat Apr 17 22:00:03 2010] INotifyListener: looping results from read
[Sat Apr 17 22:00:03 2010] INotifyListener: wd=1 mask=1 cookie=0 len=16
[Sat Apr 17 22:00:03 2010] INotifyListener: name=foo.txt
[Sat Apr 17 22:00:03 2010] INotifyListener: Queue event
[Sat Apr 17 22:00:03 2010] INotifyListener: Seeking 32bytes into buffer for next event
[Sat Apr 17 22:00:03 2010] INotifyListener: Done looping events
[Sat Apr 17 22:00:03 2010] INotifyListener: Preparing for reading from inotify fd
[Sat Apr 17 22:00:03 2010] Eventqueue: Received event..
PHP OUTPUT: HIHAh ar fått event!!!PHP OUTPUT: array(6) {
PHP OUTPUT:   ["PHP OUTPUT: cookiePHP OUTPUT: "]=>
PHP OUTPUT:   PHP OUTPUT: string(1) "PHP OUTPUT: 0PHP OUTPUT: "
PHP OUTPUT:   ["PHP OUTPUT: events_triggedPHP OUTPUT: "]=>
PHP OUTPUT:   PHP OUTPUT: string(10) "PHP OUTPUT: IN_ACCESS PHP OUTPUT: "
PHP OUTPUT:   ["PHP OUTPUT: lenPHP OUTPUT: "]=>
PHP OUTPUT:   PHP OUTPUT: string(2) "PHP OUTPUT: 16PHP OUTPUT: "
PHP OUTPUT:   ["PHP OUTPUT: maskPHP OUTPUT: "]=>
PHP OUTPUT:   PHP OUTPUT: string(1) "PHP OUTPUT: 1PHP OUTPUT: "
PHP OUTPUT:   ["PHP OUTPUT: namePHP OUTPUT: "]=>
PHP OUTPUT:   PHP OUTPUT: string(7) "PHP OUTPUT: foo.txtPHP OUTPUT: "
PHP OUTPUT:   ["PHP OUTPUT: watched_pathPHP OUTPUT: "]=>
PHP OUTPUT:   PHP OUTPUT: string(22) "PHP OUTPUT: ../var/inotify_examplePHP OUTPUT: "
PHP OUTPUT: }
